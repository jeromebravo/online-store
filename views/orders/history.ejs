<%- include("../partials/header") %>

<div class="container my-4">
    <div class="row">
        <div class="col-12">
            <h2>ORDER HISTORY</h2>
        </div>

        <div class="col-12 mt-3">
            <table class="table table-striped text-center">
                <thead>
                  <tr>
                    <th scope="col">Date</th>
                    <th scope="col">Customer</th>
                    <th scope="col">Address</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Total</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                    <% for(let order of orders) { %>
                        <tr>
                            <% let date = new Date(order.orderDate) %>
                            <td><%= date.getMonth() + 1 %>/<%= date.getDate() %>/<%= date.getFullYear() %></td>
                            <td><%= order.customer.name %></td>
                            <td><%= order.customer.address.substring(0, 25) %>...</td>
                            <td><%= order.orders.length %></td>
                            <td>â‚±<%= order.total %>.00</td>
                            <td><a href="/orders/history/<%= order._id %>">More Info</a></td>
                        </tr>
                    <% } %>
                </tbody>
              </table>
        </div>
    </div>
</div>

<%- include("../partials/footer") %>